<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mock Service Test</title>
</head>
<body>
    <h1>Mock Service Test</h1>
    <div id="output"></div>
    
    <script type="module">
        // Simulate development environment
        window.process = { env: { NODE_ENV: 'development' } };
        
        // Enable mock mode forcefully for testing
        localStorage.setItem('cm-force-mock', 'true');
        
        import { shouldUseMockDashboard } from './src/app/config/mockConfig.js';
        import { getMockDashboardStatistics } from './src/app/services/mockDashboardService.js';
        
        const output = document.getElementById('output');
        
        console.log('üîß Testing mock service configuration...');
        
        // Test mock configuration
        const shouldMock = shouldUseMockDashboard();
        console.log('Should use mock dashboard:', shouldMock);
        output.innerHTML += `<p>Should use mock dashboard: ${shouldMock}</p>`;
        
        if (shouldMock) {
            console.log('üé≠ Attempting to generate mock data...');
            output.innerHTML += `<p>Attempting to generate mock data...</p>`;
            
            try {
                const mockData = await getMockDashboardStatistics();
                console.log('‚úÖ Mock data generated successfully:', mockData);
                output.innerHTML += `<p>‚úÖ Mock data generated successfully!</p>`;
                output.innerHTML += `<pre>${JSON.stringify(mockData.statistics, null, 2)}</pre>`;
            } catch (error) {
                console.error('‚ùå Error generating mock data:', error);
                output.innerHTML += `<p>‚ùå Error generating mock data: ${error.message}</p>`;
                output.innerHTML += `<pre>${error.stack}</pre>`;
            }
        } else {
            output.innerHTML += `<p>‚ùå Mock mode is not enabled</p>`;
        }
    </script>
</body>
</html>